<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Analisis de Sentimientos</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
	</script>
	<link rel="stylesheet" href="../static/css/estilos.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	 crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
	 crossorigin="anonymous">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
	 crossorigin="anonymous">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0/dist/chartjs-plugin-datalabels.min.js">
	</script>
</head>
<body>
	<!-- preload -->
	<div class='div-preload' style='padding-top:10%;'>
		<center>
			<img src="../static/img/pp.svg" alt=""width='280px'>  <br>        
           <div class="loadingio-spinner-interwind-trysw0yvp0p"><div class="ldio-4ec34dlqlur">
            <div><div><div><div></div></div></div><div><div><div></div></div></div></div>
            </div></div>
        </center>
      </div>
 <!-- end-preload -->
 <div class=' haside2'style='background: #2b7abf; color:white;'>
        <img id="imghaside2" src="../static/img/itcolima.svg" >
        <div class="txthaside2"> 
        <p class="textheader" >Tecnologico Nacional de México Campus Colima</p>
        <p class="textheader2">Ciencia de datos Proyecto y Aplicación</p>
        </div>
      </div>
   <div class="gridprincipal">
     <div class="columna1">
        <aside class='border-0 pt-5'>
         <p class='p-2'style='text-align:center;'>Tecnologico Nacional de México Campus Colima</p>
          <img  id="imgnav" src="../static/img/itcolima.svg" width="70%">
          <p class='p-2'style='text-align:center;'>Ciencia de datos Proyecto y Aplicación</p>
        </aside>
     </div>
     <div class="columna2">
      <div class="columna2_2">
        <div class='d-flex justify-content-center'>
          <canvas id="sentimientos" class='grafica'></canvas>
        </div>
      </div>
       <div class="divfoo"><p class="textfoo">© 2021 Copyright: </p><a href="https://www.colima.tecnm.mx/" target="_blank"><p class="textfoo">&nbsp;Tecnologico nacional de México Campus Colima </p></a></div>
      </div>
  </div>
<script>
    window.onload = function() {
  //lineas de codigo que toma los datos y llama a la funcion de graficado
      setTimeout(function() {
		  $('.div-preload').attr('style', 'display:none') 
      barColors = ["#fd9d48", "#fd6648","#ffd160"];
      borColors = ["#ff7800", "#fc2a00","#fcb300"];
      let datos=({ dato,tojson })
       
      armachart('sentimientos',datos.labels,datos.data,barColors,borColors,'pie','Analisis de Sentimientos') 
		}, 1000);   
    }
 
//funcion que genera las graficas 
  function armachart(div,x,y,barColors,borColors,tipo,nombre){

    switch(tipo){
        case 'bar':
            new Chart(div, {
                type: tipo,
                data: {
                    label: false,
                    labels: x,
                    datasets: [{
                        backgroundColor: barColors,
                        borderColor: borColors,
                        data: y
                    }]
                },
                options: {
                    plugins: {
                      datalabels: {
                        display: true,
                        font: {
                          size: 18,
                        }
                      },
                    },
                    legend: {
                        display: false
                    },
                    responsive: true,
                    title: {
                        display: true,
                        text: nombre
                    },
                    scales: {
                    
                        xAxes: [{
                            ticks: {
                                autoSkip: true,
                                /* minRotation: 75 */
                            },
                            gridLines: {
                                drawOnChartArea: false
                            }
                        }],
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            },
                            gridLines: {
                                drawOnChartArea: false
                            }
                        }]
                    },

                },
                
            });
        break
        case 'horizontalBar':
            new Chart(div, {
                type: tipo,
                data: {
                    label: false,
                    labels: x,
                    datasets: [{
                        backgroundColor: barColors,
                        borderColor: borColors,
                        data: y
                    }]
                },
                options: {
                    plugins: {
                      datalabels: {
                        display: true,
                        font: {
                          size: 18,
                        }
                      },
                    },
                    legend: {
                        display: false
                    },
                    responsive: true,
                    title: {
                        display: true,
                        text: nombre
                    },
                    scales: {
                        xAxes: [{
                            gridLines: {
                                drawOnChartArea: false
                            }
                        }],
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                                stepSize:1
                            },
                            gridLines: {
                                drawOnChartArea: false
                            }
                        }]
                    },

                }
            });
        break
        case 'line':
            new Chart(div, {
                type: tipo,
                data: {
                    label: false,
                    labels: x,
                    datasets: [{
                        backgroundColor: barColors,
                        borderColor: borColors,
                        data: y
                    }]
                },
                options: {
                    plugins: {
                      datalabels: {
                        display: true,
                        font: {
                          size: 18,
                        }
                      },
                    },
                    legend: {
                        display: false
                    },
                    responsive: true,
                    title: {
                        display: true,
                        text: nombre
                    },
                    scales: {
                        xAxes: [{
                            gridLines: {
                                drawOnChartArea: false
                            }
                        }],
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                            },
                            gridLines: {
                                drawOnChartArea: false
                            }
                        }]
                    },

                }
            });
        break
        case 'doughnut':

            new Chart(div, {
                type: tipo,
                data: {
                    labels: x,
                    datasets: [{
                    backgroundColor: barColors,
                    data: y
                    }]
                },
                options: {
                    plugins: {
                      datalabels: {
                        display: true,
                        font: {
                          size: 18,
                        },
                      },
                    },
                    title: {
                    display: true,
                    text: nombre
                    },
                    /* legend: {
                            display: true,
                            position: 'bottom',   //posicion de labels
                        } */
                },

                });
            
        break
        case 'pie':

            new Chart(div, {
                type: tipo,
                data: {
                    labels: x,
                    datasets: [{
                    backgroundColor: barColors,
                    data: y
                    }]
                },
                options: {
                    plugins: {
                      datalabels: {
                        display: true,
                        font: {
                          size: 18,
                        }
                      },
                    },
                    title: {
                    display: true,
                    text: nombre
                    },
                    /* legend: {
                            display: true,
                            position: 'bottom',   //posicion de labels
                        } */
                }
                });
        break 
    }
 }
</script>

</body>
</html>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap');
    body {
      font-family: 'Poppins', sans-serif;
    }
</style>